# SQL Sports Analysis

**SQL Sports Analysis** — это проект для демонстрации навыков работы с базами данных и Python. Он включает SQL-скрипт для создания структуры базы данных, Python-скрипт для наполнения базы данных тестовыми данными, а также примеры SQL-запросов для анализа данных.

## Структура проекта

- **`sql_scripts/create_tables.sql`**  
  SQL-скрипт для создания базы данных и её таблиц. Он создаёт следующие таблицы:
  - `teams` — команды.
  - `players` — игроки.
  - `matches` — матчи.
  - `statistics` — статистика.

- **`python_scripts/insert_data.py`**  
  Python-скрипт для заполнения базы данных тестовыми данными с использованием библиотеки Faker. Наполняет таблицы `teams`, `players`, `matches` и `statistics`.

- **`sql_scripts/queries.sql`**  
  Содержит примеры SQL-запросов для анализа данных, например:
  - Подсчёт голов игроков за определённый период.
  - Сравнение результатов команд.
  - Анализ общей статистики.

- **`run_all.py`**  
  Основной скрипт для разворачивания базы данных. Выполняет следующие шаги:
  1. Автоматическая проверяет наличие необходимых модулей (`pymysql`, `faker`). Если они отсутствуют, скрипт установит их самостоятельно.
  2. Запрашивает параметры подключения к MySQL (`host`, `user`, `password`).
  3. Запускает `create_tables.sql` для создания структуры базы.
  4. Запускает `insert_data.py` для наполнения базы данными.
  5. Открывает файл `queries.sql` в программе по умолчанию для просмотра запросов.

## Установка и запуск

### Предварительные требования

- Установленный MySQL (версия 5.7 или выше).
- Python 3.8 или выше.
- Установлены библиотеки:
  - `pymysql`
  - `faker`
  
### Подготовка к запуску

  1. **Распакуйте архив:**
   Скачайте и распакуйте файл `sql_sports_analysis.zip` в удобную директорию на вашем компьютере.

  2. **Запустите файл `run_all.py`:**
   - Откройте распакованную папку в проводнике.
   - Дважды щёлкните по файлу `run_all.py`, чтобы запустить его.

### Автоматическая установка зависимостей

При первом запуске скрипт `run_all.py` автоматически проверит наличие необходимых Python-модулей (`pymysql`, `faker`). Если их нет, скрипт установит их через `pip`. Пользователю не нужно вручную устанавливать зависимости.

### Процесс работы

  1. После запуска `run_all.py` в консоли появится приглашение ввести данные для подключения к MySQL:
   - **Хост** (например, `localhost`).
   - **Имя пользователя** (например, `root`).
   - **Пароль**.

  2. Скрипт выполнит следующие действия:
   - Создаст структуру базы данных.
   - Заполнит её данными.
   - Откроет файл `queries.sql` для просмотра примеров запросов.

  3. После завершения работы в консоли появится сообщение о завершении, и окно программы закроется.

Теперь проект готов к использованию: вы можете выполнять собственные SQL-запросы или анализировать предоставленные примеры.